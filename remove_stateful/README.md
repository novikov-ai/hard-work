# Избавляемся от stateful через глобальное состояние

Из состояний в проекте был использован локальный ин-мемори кэш, представляющий собой хэш-таблицу и наполняемый внешним сетевым вызовом определенной клиентской ручки. 

Сейчас очевидно, что такой механизм был ненадежен. Из распространенных проблем: шквал запросов на клиента, когда ин-мемори кэш пустой и необходимо его заполнить, а также проблема с инвалидацией данных при "протухании" данных, что вело к неконсистентности. 

Решением могло бы стать хранение необходимых данных во внешнем собственном сервисе со своей базой данных. Вместо сетевого вызова и ин-мемори кэша, у нас бы остался только сетевой вызов на собственную нагруженную ручку, которую можно внутри кэшировать более продвинутыми средствами.
